!function(n){"use strict";function a(a,t){var o=n.parseJSON(a.data("json")),l=s((t=n.extend({},this.defaults,t)).expanded);a.html('<ul class="json-container"></ul>'),a.find(".json-container").append(e([o],l))}function s(n){return n?"expanded":"expanded collapsed hidden"}function e(n,a){var s="";for(var e in n)n.hasOwnProperty(e)&&(s+=o(e,n[e],typeof n[e],a));return s}function t(a){return n("<div/>").text(a).html()}function o(a,s,o,l){var i="object",r="{",p="}";if(n.isArray(s)&&(i="array",r="[",p="]"),null===s)return'<li><span class="key">"'+t(a)+'": </span><span class="null">"'+t(s)+'"</span></li>';switch(o){case"object":var c='<li><span class="'+l+'"></span><span class="key">"'+t(a)+'": </span> <span class="open">'+r+'</span> <ul class="'+i+'">';return(c+=e(s,l))+'</ul><span class="close">'+p+"</span></li>";case"number":case"boolean":return'<li><span class="key">"'+t(a)+'": </span><span class="'+o+'">'+t(s)+"</span></li>";default:return'<li><span class="key">"'+t(a)+'": </span><span class="'+o+'">"'+t(s)+'"</span></li>'}}n.fn.jsonview=function(s,e){return this.each(function(){var t=n(this);"string"==typeof s?t.data("json",s):"object"==typeof s?t.data("json",JSON.stringify(s)):t.data("json",""),new a(t,e)})},n(document).on("click",".json-container .expanded",function(a){a.preventDefault(),a.stopPropagation();var s=n(this);s.parent().find(">ul").slideUp(100,function(){s.addClass("collapsed")})}),n(document).on("click",".json-container .expanded.collapsed",function(a){a.preventDefault(),a.stopPropagation();var s=n(this);s.removeClass("collapsed").parent().find(">ul").slideDown(100,function(){s.removeClass("collapsed").removeClass("hidden")})}),a.prototype.defaults={expanded:!0}}(window.jQuery);